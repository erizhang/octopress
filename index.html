
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Actionary</title>
  <meta name="author" content="Eric Zhang">

  
  <meta name="description" content="The department which I&#8217;m working on, it&#8217;s the first team adopted Scrum in China, so our people mostly seems ourselves is the Scrum &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://erizhang.github.io">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Actionary" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-40225877-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Actionary</a></h1>
  
    <h2>A man is valued by his works, not his words!</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:erizhang.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/08/30/why-we-need-visual-task-board/">Why We Need Visual Task Board</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-08-30T11:31:00+08:00" pubdate data-updated="true">Aug 30<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The department which I&#8217;m working on, it&#8217;s the first team adopted Scrum in China, so our people mostly seems ourselves is the Scrum forerunner in China. Year and year, day after day, we did various Scrum practices, And while the R&amp;D is growing in size, and with people change in the organization, people have been forgetting the rationale behind these practices, and thinking Scrum is such practices, Such practices are Scrum. But one day, we were questioned by our naive boy: Why?</p>

<p>Today, let’s go through why we need visual task board? Why we not use excel instead? Or some on-line task management tools such like Trello?</p>

<h2>Understand the team situation likes looking at a picture</h2>

<p>Paste the task on the wall with different priority, under sprint schedule move forward, the task will be moved from “TODO” column to “DONE” column, it’s easier understand the team work iteration item progress. If on one time point, the most of task paper still is under the “TODO” column, it means we still have a lot work need to be done; if the most of task paper is under “DONE” column, we can understand it’s not far from our target.</p>

<p>“IN PROGRESS” reflects team daily work. If too many tasks are under this column,  it means there is something wrong about the task assignment – either the task estimation has some problem or team is too optimistic. The total size of the tasks under “IN PROGRESS” shall be equal as the team daily capacity.</p>

<p>Of cause, we can use various color paper to represent the regular planning tasks or interrupt tasks, based on the interrupt tasks number, we can understand how well we did sprint planning.</p>

<p>Adding “BLOCKING” column, we can clearly find out how many tasks are blocked by other teams. We can make various changes of task board based on team needs, task board shall illustrates the team work situation clearly. Team member just raise his/her head, he/she can understand how well we work on our task, it’s leading, or delay. Team work is transparent, any one in any time can understand team situation.</p>

<h2>Programmers are “lazybones”</h2>

<p>I remember one words said: the innovators are lazybones. Because they are lazy, so they are motivated to innovate something instead of hard working. And later, this words has been evolved to: the high IQ people is lazybones. It comes “Innovators are high IQ people”. And now, programmers seems themselves as high IQ people, so programmer shall play as lazy style. Innovator == lazybones; innovator == high IQ people; high IQ people == lazybones è if you want to make self look like high IQ people, play lazybones, so that’s the logic, J</p>

<p>So, for lazybones, require him/her to look for a document and open it, it’s very difficult, because he/she think there were too many steps. We can image that if we require lazybones read a document which located on a website:</p>

<ol>
<li>Visit the website</li>
<li>Look for the document</li>
<li>Download the document</li>
<li>Open the document via MS office (WTF office, why you are so slow)</li>
<li>Reading, and there are page up and page down</li>
</ol>


<p>Same reason, how make lazybones care about the task board? If we use excel to keep the tasks, what the situation will be:</p>

<p>During the daily meeting, Scrum Master open the laptop, and then all team member gather around the only 15 inch screen, you open your big eyes, and focus on only 10 font size words, to make the task updating. In another times except Scrum Master open this task list excel, the lazybones never open this document any more, since open this excel will cost too many steps – the in time task updating is a problem.</p>

<p>If we have task board, all tasks are written on the paper, and clearly paste on the wall. You just give a sight, you can find out the task, for the task updating, you only need to move the paper. See, easy.</p>

<h2>It’s not only a wall, it’s team flag</h2>

<p>How prove team existence? Name, flag.  Every day, all team member gathering under the wall, it’s solid entity, you will found that, this wall represents the team. Team member will think this is our team platform, we have something to do on this place. So during we create the task board, it means we are creating the team flag.</p>

<h2>End</h2>

<p>I can understand, you prepare a lots of reason here to prove why you need excel to keep the task list. That’s fine, give your comments below, let me understand your reason first. I just want to say, the confident team, ready to show muscle. Be a “lazy” and high efficiency team, start from build a visual task board.
- EOF -</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/26/how-programmer-surf-internet/">程序员上网扫盲</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-26T11:31:00+08:00" pubdate data-updated="true">Jul 26<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>最近常常被很多朋友问到这样的问题：</p>

<ul>
<li>你们是用什么工具做了这么炫的presentation？</li>
<li>你们从哪里找来这么标准的回答，我提的问题就是那个？</li>
<li>你们从哪里了解到这么好玩的东东？</li>
<li>你们怎么可以认识到这么多的大牛？</li>
<li>你们都从哪学来这么多的知识呀？</li>
</ul>


<p>我们总是告诉他们：</p>

<ul>
<li>我用<a href="http://prezi.com/" title="prezie.com">prezi</a>做的展示，酷吧，你也可以。</li>
<li>我常常登录<a href="http://www.quora.com/" title="quora.com">quora</a>和<a href="http://stackoverflow.com/" title="stackoverflow.com">stackoverflow</a>，所以我明白问问题的技巧和查找答案的方法。</li>
<li>我用<a href="http://feedly.com/" title="feedly.com">feedly</a>订阅了很多的RSS，并且分类，定期阅读，开阔了我的眼界。</li>
<li>我会“科学上网”，在<a href="http://twitter.com" title="twitter.com">twitter</a>上follow了@codinghorror @mfeathers @KentBeck @unclebobmartin 等很多大牛，我知道他们在干嘛，跟他们互动，大牛没有想的离得那么远。我们在<a href="http://github.com/" title="github.com">github</a>上fork大牛的项目，给他们提pull request，离大牛更近了。</li>
<li><a href="https://www.coursera.org/" title="coursera.org">coursera</a>，<a href="https://www.codeschool.com/" title="codeschool.com">codeschool</a>是我常去的网站。</li>
</ul>


<p>总之，问题林林总总，总是关心我们工作及获取信息的方式。首先，应该肯定提出问题的这些朋友还保持着程序员的猎奇的心态，对未知领域的好奇心，正是这些好奇心，激励着我们往前走，又有多少人连这点好奇心都没有了呢？而从另一个角度，我们又感到一丝丝的担忧，IT行业在互联网上发生翻天覆地的变化，而我们很多朋友却依旧固步自封，原地不动。</p>

<p>我们应该庆幸生活在这个时代，这样的时代互联网给我们提供了取之不尽的资讯，但是，我们又多么不幸地生活在了这样的时代，这样的时代可以让一个中学生迅速成为你的竞争对手，成为程序员的门槛已经不高，10+程序员已经展露头角。不学习，总会被取代掉。鉴于此，朋友建议我做对程序员上网做做扫盲，对很多人来说，这些网站都是“老地方”，但我相信同样会有很多人会认为这是个新去处。</p>

<h2>开源社区Github</h2>

<p>Sourceforge，google code离我们越来越远，而github却离我们却越来越近。这家公司虽然地处湾区，在地理位置上来说，与我们隔着一个太平洋的距离，可是<a href="http://github.com" title="github">github.com</a>却成为每一个geek必去的网站，越来越多的开源项目进驻，越来越多的公司用它来做项目开发。这是一家提倡社交化开源，社交化开发的公司，该公司只有一个员工有一个固定的title，那就是CEO，其他员工的title都是经常性的变更，有时叫“黑暗骑士”，有时叫“终结者”，员工遍布全球，办公地点有的在家里，咖啡店，Office，而有的则可能在旅行的路上。</p>

<p>软件开发已经没有传统的地域限制，github提供了这样的一个技术平台，提供社交化的虚拟社区，人人可以提交代码，人人可以review代码。要开展一个项目，你只需在网站上建一个repository，剩下的就去邀请那些极客了，给他们一根网线，他们会用各种名词&#8221;clone&#8221;，&#8221;fork&#8221;，&#8221;pull request&#8221;跟你交流。如果有一天，你听到一个人跟你讲，请fork一下我，千万别感到奇怪。你需要掌握的知识就是编程和git的使用，很高兴，互联网给了免费的图书让你<a href="http://git-scm.com/book/zh" title="Pro Git">学习git</a>。据说，现在很多大公司会通过github上的信息，网罗他们需要的程序员，又一个<a href="http://www.guokr.com/article/437170/" title="How Big Data Is Playing Recruiter for Specialized Workers">大数据的案例</a>。</p>

<p>又据说，现在美国白宫也在正尝试通过github的协作方式来完成一些文章和政策文档的编撰工作。白宫已经开始了，你还等什么呢？登录<a href="http://github.com" title="github">github.com</a>，fork我吧。</p>

<h2>问答类网站 Stackoverflow &amp; Quora</h2>

<p>记不记得上世纪90年代末本世纪初的时候，很多程序员会泡在<a href="www.csdn.net" title="csdn.net">CSDN</a>论坛上，回答各种问题，积累专家分。只是有点可惜，这家公司不知道自己应该做什么，又是做博客，又是办杂志，又是搞社区，据说现在也倒腾了一个github-like类网站。随着<a href="http://en.wikipedia.org/wiki/Eternal_September" title="Eternal September">永恒的九月</a>的现象，越来越多的低质量问题和答案充斥其中，后来很多人选择离开这样一个技术讨论平台。</p>

<p>而<a href="http://stackoverflow.com" title="stackoverflow.com">Stackoverflow</a>就是这样一个成功的网站，这是一个属于程序员的网站，由大牛 @codinghoner <a href="http://en.wikipedia.org/wiki/Coding_Horror" title="Jeff">Jeff Atwood</a>开发的一个供程序员提问及回答讨论的网站，你可以在这里提出关心的技术问题，只要分类OK，很快就会有人给你解答，如果对一些问题感兴趣，你可以收藏该问题。专家分积累到一定程度，会给你一个勋章，这吸引着越来越多高质量的问题和答案，以致于现在流传着这样一句话：世界上只有两种开发模式，到github上clone代码，或者到stackoverflow上复制代码。</p>

<p>这是一个来自<a href="http://stackoverflow.com/questions/184618/what-is-the-best-comment-in-source-code-you-have-ever-encountered" title="classical-q-a">经典stackoverflow的问答</a>，看过之后相信你会爱上这个网站。现在很多公司的招聘信息上已经明确要求应征者提供其github和stackoverflow帐号，这可比大学考试分数靠谱多了。</p>

<p><a href="http://quora.com" title="quora.com">Quora</a>相比stackoverflow就是另一种风格。同样是问-答类网站，Quora涉及的问题会更大一些，stackoverflow会深入技术细节。但两者的相似之处都是因为吸引了很多的大牛，和保持一贯高质量的问答，这是他们成功的经要。</p>

<h2>在线教育 Coursera &amp; Codeschool</h2>

<p>我们常常吐槽，说国内没有一所好的大学，没有碰到好的老师，一切如此糟糕境遇的原因都是他们：我是一块好的璞玉，没有人打磨，所以就是这样。</p>

<p>如果你还在抱怨这些原因的话，那你大可不必了。虽然你这辈子可能鲜有走出国门，走进更高的学府的机会，而网上公开课程给你提供了这些便利。且不说风靡的哈佛公开课程《公平与正义》等视频在互联网上到处可见，更为专业性的网上课程网站<a href="http://coursera.com/" title="coursera.com">Coursera.com</a>提供了更为专业的服务。网站会提前给出即将开展的课程安排，用户根据自身需要，选择课程，在安排的时间段学习课程，网站提供了视频，slides，录音，完成老师布置的作业，你还可以跟老师互动，向老师提问（当然，这很难做到逢问必答）。在一定的时间内完成课时，并且作业达到一定分数，课程结束后，你会收到一份证书。据说这份证书目前比某些大学的毕业证更靠谱。如果你过不了语言关，不要紧，有些课程的视频配有中文字幕，你的学习过程就像看美国大片。此外，<a href="http://coursera.yeeyan.org/" title="coursera.yeeyan">译言网上中文课堂</a>是译言网与Coursera合作最近刚上线的项目。</p>

<p>记得去年参加了斯坦福的<a href="http://en.wikipedia.org/wiki/Andrew_Ng" title="吳恩達">Andrew Ng</a>教授的一个课程<a href="https://www.coursera.org/course/ml" title="machine learning">Machine Learning</a>，因为吸引人很多人的参课，首期就超过10万人注册课程，并且反响异常热烈，该课程获得了去年coursera年度最受欢迎课程的荣誉。你想，一下子你就多了10万个同学，这是什么样的概念，多选几门课程，你同学数都可达百万级。</p>

<p>做为程序员，要想精通多门开发语言的Hello World程序，只要花上一个小时，要想精通多门语言的<a href="http://en.wikipedia.org/wiki/Conway%27s_Game_of_Life" title="GameOfLife">Game of Life</a>程序，只要花上一周。网上编程教育网站<a href="http://codeschool.com/" title="codeschool.com">codeschool</a>就是这样一个网站。它提供多种开发语言让你选择，并且由你选择学习路径，入门，进阶，高级等等，一应俱全。就Ruby语言来说，有Ruby Basics， Starting Rails， Advanced Ruby， Rails Edge， Railstesting，Rails Best Practices。足不出户就可以成为开发高手。如果你真想成为大拿，现在就登录这些网站注册课程吧。</p>

<h2>RSS订阅</h2>

<p>记得前几个月，当google说要在七月份把google reader关掉的时候，有许多有阅读RSS订阅的人焦虑了一阵子。不要告诉我你不知道有什么是RSS订阅，如果真不知道，请登录到google.com在查询栏输入“什么是RSS订阅”。如果你告诉我你不用google，而是用baidu，那你就活该当个outer。</p>

<p>现在好了，<a href="http://feedly.com/" title="feedly">feedly</a>和<a href="http://digg.com/" title="digg.com">digg</a>都提供google reader的平滑过度，而且提供了很好的用户体验。像feedly还提供了免费的Andriod和iOS应用，Windows Phone上也有nextGen Reader来支持feedly，这难道还不够吗？</p>

<p>有人会说，光有工具还不够，内容呢，哪里来？我获取内容的途径一般来自<a href="https://news.ycombinator.com/news" title="yc">Hacker News</a>, <a href="http://www.reddit.com/" title="reddit.com">Reddit</a>，还有我在社交网上follow的那些大牛分享的网站，天天积累，越来越多。不要告诉我你不知道Hacker News，这个网站的founder，可是大名鼎鼎的<a href="http://en.wikipedia.org/wiki/Paul_Graham_%28computer_programmer%29" title="Paul.G">Paul Graham</a>，《黑客与画家》的作者，著名的天使投资人，最早以lisp程序员而闻名。</p>

<p>我一直认为，在信息爆炸的时代，能通过人肉再过滤一层的信息会更值得读，时间有限，你不可能什么都读，就像看电影一样，我们一般都选择得分高的电影，或者朋友推荐的。像Hacker News和Reddit就是帮我们排序的。</p>

<p>现在手机上还有一款不错的软件，叫做flipboard，它收集了各路信息，然后帮你汇总分类，也是不错的一个神器。如果你还在担心英文阅读的困难，我可以建议两个途径：</p>

<ul>
<li>恶补英语，常常读，让看英文资料成为一种习惯</li>
<li>如果你真的在语言上不可救药，那看中文网站吧，现在有很多志愿者把他们认为不错的资料翻译成中文，如<a href="http://www.yeeyan.org/" title="yeeyan">译言网</a>，<a href="http://www.aqee.net/" title="aqee.net">外刊IT评论网</a>。也有汇集牛人博客的网站，如<a href="http://www.udpwork.com/" title="udpwork.com">IT牛人博客聚合</a>。</li>
</ul>


<p>每天花上1个小时做订阅的阅读，当这成为一种习惯，你也会成为信息的受益者。当然，你的目标要成为一位分享者，只有分享才会让我们的时代更加丰富多彩。</p>

<h2>编程训练平台 Cyber-dojo &amp; oDesk</h2>

<p>编程是一项技能，所谓拳不离手，曲不离口，做为训练自己的编程能力，<a href="http://cyber-dojo.com/" title="cyber-dojo.com">cyber-dojo</a>提供了这样的一个平台，你只需setup起来，获得一个ID，就可以选择一门开发语言和练习题目，开始你的编程训练。我们可以以一个Scrum团队一起来完成，以TDD的形式，成员之间乒乓交换，即先一个人pass单元测试，重构代码，再写一个failed掉的单元测试，这时另一个人接手重复上述过程，一直不停换人，直到完成整个题目。</p>

<p>我想，一群人能在一起写写代码，不停地交换彼此的想法，编程技能提高得肯定很快。如果开始阶段不是太容易掌握活动的引导，找一位好的引导人也是一个不错的选择。</p>

<p>其实<a href="http://www.odesk.com/" title="odesk.com">oDesk</a>不完全是一个训练平台，它的目的是用于软件的分包和承包，你可以把自己的个人信息和技能写上，给出你需要的佣金，然后参加项目的承包竞标。这是一个非常好玩的事情，非常接近真实生活中的招投标过程，当然，这里的招投标也是真实的。如果你准备好了，你可以试试自己的价值，利用业余时间参加一些这里的项目也是一件不错的事。</p>

<p>我听说过两件oDesk的趣事，一件是分包的事。据说一位牛人，他在他们公司的绩效特别好，交待给他的事，他都很好地完成掉了，所以，他工资特别高，但最后发现，他的工作都被他在网上分包给了中国的一些开发者。还有一件是关于承包的，有一位程序员决定环球旅游，然后他带好了电脑，还有上网的辅助设备，在旅途上，边看风景，边在oDesk承包项目，而且赚到了比在前公司工作还多的收入。</p>

<h2>在线协作平台 Google Doc(Drive)，Google Hangout， Dropbox, Trello</h2>

<p>除了github可以提供一套协作的流程外，Google Doc也或者叫Drive，也是个好东西，现在我们几个朋友之间常用这个工具来协作完成一些slides，文档，或者excel。还记得最早用Google Wave的时候，现在Google Doc跟它相比，可是巨大的飞跃。此外，我们还用<a href="http://www.dropbox.com" title="dropbox">Dropbox</a>来存储我们需要的东西，如做远程的git repository，做一些文稿的协作撰写。</p>

<p>当我们在协作过程中遇到任何问题需要交流的时候，Google Hangout提供了视频会议功能。而这些都是免费的服务，我们用Gmail收发邮件，Google Calendar做日程安排。一切都自然而流畅。</p>

<p>如果你的团队是用Scrum或者Kanban之类的开发模式，需要用到团队的任务的Backlog的话，那么<a href="https://trello.com/," title="Trello.com">Trello</a>将会是一个不错的辅助工具。你能通过它定制列表，如你可以定制一般Scrum的列表：TODO, In Progress, Done等，也可以定制Kanban的列表：User Story，设计，编码，测试等互为依赖的状态列表。另外，你团队成员的状态也会显示在上具上，你可以清楚地知道谁在负责哪个任务，也可以即时地与之联系。</p>

<p>除之此外，作为程序员，你可以在<a href="https://coderwall.com/welcome" title="Coderwall.com">coderwall</a>上把你的Profile建立起来，它会根据你在github上的项目和开发语言，给你列出一枚枚徽章。然后与朋友或同事在coderwall上建立团队，我们目前给公司在coderwall上建了一个团队，目前全球排名已经到了七百多名，如果你会加入的话，我们的排名会更靠前。</p>

<h2>社交网站 twitter, facebook, linkedin, glassdoor, ifttt</h2>

<p>这是最不需要分享的章节，只是我们生活在四周砌满高墙的国家，所需要做的只是“科学上网”，那么你听说过fqrouter, goagent吗？follow对人也很重要，我记得有位朋友跟我讲，他的微博里都是公知和五毛，天天吵，烦死了。我跟他讲，因为你本身想成为公知或五毛，所以才会有那么多的公知和五毛在他的微博里，如果你不想要他们的争吵，unfollow他们，帐号在你手里。</p>

<p>还有，你知道在什么时间发的言会被更多人阅读吗？你知道你的哪些粉丝最有影响力吗？你知道你的粉丝的活跃程度吗？因为你是个程序员，你所要做的就是掌握这些社交网站的API，写下一个应用，所有数据都会出来，是不是很有意思。另外，你有ml的能力(machine learning，不要误解)，可以学习你的粉丝或好友的行为，这时，你可以合理安排好你上微博的时间。会突然发现，生活变得与众不同。</p>

<p>不要沉迷社交网站，不要让其成为朋友之间唯一的沟通渠道，让朋友变成网友。一直以来，我不太愿意上QQ，从大学毕业戒掉QQ快10年了，原因是一上QQ，很多好友会向你说Hello，而你不得不客气地回复他们，被打断多次，之后只要我再上QQ，我都保持潜水的状态。上周我做过一个实验，我把QQ以在线的形式让它显示在那，我想统计一下我会收到多少打断，除了第一天上午收到四个好友的Hello，到第二天只有1个给我Hello，第三天，没有人再理我了，我并没有我自己想像的重要。:)</p>

<p>所以，当别人习惯了你的状态，你就不会显得那么重要了，不要总是打开微博看刚发出去的微博有多少@，有多少评论，只有不停地提高发出去的信息质量，@和评论就会多，而多了之后，当你习惯了，也就没那么重要了。</p>

<p><a href="https://ifttt.com" title="ifttt.com">ifttt</a>却是更高级的上网技，它是if this then that的缩写，this指的是触发行为，that是被触发的行为。也就是说，你在这一个网站上做的一个具体的行为，会触发另一个网站的行为。比如，我想在feedly但凡我mark成shared的文章，都需要分享在twitter上，那么这里的this就是指的在feedly上mark成shared，而that就是指的在twitter上发推。用户可以在ifttt上定制自已需要的触发器，目前该网站支持绝大多数热门的应用和社交网站的服务。到时你可就可以通过它管理多个社交网站了，而不需要在多个网站之间copy-paste。</p>

<h2>BFD还是DFD，时间在哪里</h2>

<p>大哥，信息太多了，我学习是广度优先还是深度优先呢？好问题。一般来讲，我会先BFD来一趟，发现热点，然后DFD，通过<a href="http://www.wikipedia.org/" title="wikipedia.org">Wikipedia</a>深入下去，再找书来读。上次我在微博上做了一下调查，大多数朋友都是BFD。</p>

<p>时间怎么安排，上班的时候干项目，下了班还被项目干(支持电话不断)，还要带小孩，陪老婆，没时间啦。我记得有次在google buzz里跟一些朋友讨论过这个话题。大体上是晚上回家只陪小孩，和小孩一起睡，早上比小孩早起，做阅读。班车上，地铁里看RSS订阅，把所有碎片都用起来。其实看起来很难，习惯了应该也就这样，还记不记得上中学那会儿，早上要出操，还有上早自习，那时是怎么过来的？最近流传着<a href="http://tech.ifeng.com/internet/detail_2013_07/26/27938213_0.shtml" title="12位早起的IT大佬">12位早起的IT大佬</a>的段子，不是要求大家成为大佬，而是我们不能光看到别人的光芒，而忘了他的付出。我记得还有一篇文章讲<a href="http://www.readability.com/read?url=http://www.fastcompany.com/3000619/what-successful-people-do-first-hour-their-work-day" title="first-hour">成功人士工作的第一个小时都干什么</a>，同样值得学习。</p>

<h2>结语</h2>

<p>写得越多，越发现停不下来，因为还有很多好用的东西值得写下来，如分享幻灯片的<a href="http://www.slideshare.net" title="slideshare.net">slideshare</a>，可以做出很炫幻灯片的<a href="http://www.prezi.com" title="prezi">prezi</a>，常常收听的<a href="http://www.ted.com" title="ted">TED</a>等等。随着国内的互联网企业的发展，也越来越多的中文资讯网站办得越来越好，像豆瓣，36氪，果壳等等。我们所需要做的，只是定好目标，合理安排好时间。另外，圈子很重要，与肝胆人共事，从无字句处读书，你身边的朋友会是你学习的老师，他们follow什么样的人，他们读什么样的文章，他们怎么样安排生活，都是你参考学习的对象。我很开心认识了这么多的朋友，他们告诉了我很多不知道的好玩意儿，教会我“科学上网”，我才能写下上面那么多的废话。</p>

<p>要成为码农不难，要成来好的程序员不简单，先让自己不out，从现在开始。:\</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/08/codermetrics-in-scrumgathering/">Speaking Codermetrics in ScrumGathering Shanghai 2013</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-08T11:31:00+08:00" pubdate data-updated="true">Jul 8<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>因为一篇post &#8211; <a href="http://zhangliaoyuan.me/blog/2013/04/18/why-i-translate-codermetrics/" title="Why we translate Codermetrics">我为什么翻译《程序员度量》</a>，受邀参加Scrum Gathering Shanghai 2013的活动，话题是《程序员度量》。说真的，对这个话题我没有太大的自信，很容易触到一部分人的神经，而我本身又是一个不太善于争论的人。谢谢孙妮和老窦的鼓励。我决定从另外角度来说程序员度量的这件事——从我们之前的失败案例看起（起码从我的角度是这样）。我想从这样的角度会引起更大的共鸣，让大家明白其中的种种。作为一种反思的素材供大家参考，这是有帮助的。</p>

<iframe src="http://www.slideshare.net/slideshow/embed_code/23992242 " width="595" height="446" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC;border-width:1px 1px 0;margin-bottom:5px" allowfullscreen></iframe>


<p></p>

<p>现场的反映超出了我的预期，认识到有很多的朋友在关注这个问题，也有的朋友正在经历类似的煎熬和困惑：</p>

<ul>
<li>短期的激励无法满足长久的发展</li>
<li>KPI来限制团队或成员的工作行为，发现长久之后，丢失了一个研发团队本应有的激情和创新</li>
<li>绩效考核</li>
<li>度量的数据无法收集，或无法保证数据的有效性及一致性</li>
<li>是否需要花大量的精力来做这个事情</li>
</ul>


<p>可能持反对意见者从这些问题会立刻得出这样的结论：度量方法害死了。</p>

<p>我本身亲历过这样的过程，而且很有幸多经历了几个角色，能更多地有同理心地去思考这些问题。如果真的需要度量，是否可以从几个方面做一些改进：</p>

<ul>
<li>不做排名比较</li>
<li>不做限制工作行为的事</li>
<li>只获取团队动态的洞察力，用于管理者对团队的认识及发展调整</li>
<li>只做对你可以控制的面的度量，限定度量的范围</li>
<li>从你开始一个度量，也从你结束一个度量，不留下给别人利用你的度量耍流氓的机会。A制定度量的时候是为了获取团队动态，而B可能就会用来做团队排名。</li>
</ul>


<p>说多无益，只是想请大家审慎地做出对人的度量这回事，目的和策略的不同，同样的事情，最后出来的结果是不同的。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/25/bee-watcher/">Bee Watcher</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-25T17:31:00+08:00" pubdate data-updated="true">Jun 25<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>之前与<a href="http://www.weibo.com/u/1431854415" title="Terry's Weibo">Terry</a>一起聊天，聊到一个叫做<a href="http://www.drseussart.com/details/illustration/beewatcher.html" title="The Bee Watcher">Bee Watcher</a>的故事，觉得挺有意思的。话说，一位农场主为了提高蜂蜜的产量，他在资深顾问的建议下，请了一位看蜂人(Bee Watcher)，看蜂人的任务就是监督蜜蜂采蜜，以此来提高产量。可是实际情况是，蜜蜂并没有因为有了看蜂人的存在而改变采蜜的方法，它们还是按部就班的从一朵花飞到另一朵花，飞来飞去忙个不停。一年下来，产量没有提高，农场主认为产量没有提高的原因，是因为看蜂人看得不够努力，于是雇了一位看看蜂人(Bee Watcher Watcher)来监督看蜂人的工作，可是，有了看看蜂人，看蜂人还是像过去一样努力地盯着蜜蜂们忙来忙去，并没有因为有了看看蜂人，看蜂人就眼晴睁得更大点。一年又过去了，蜂蜜的产量还是没有提高，分析原因，农场主得出了结论是因为看看蜂人监督看蜂人监督蜜蜂采蜜不够努力，于是他又雇了名看看看蜂人(Bee Watcher Watcher Watcher)来监督看看蜂人监督看蜂人监督蜜蜂采蜜的工作。一年又一年，越来越多的看看看&#8230;看峰人(Bee Watcher Watcher &#8230;.. Watcher)，产量还是没有提高，而生产成本却一年比一年高。</p>

<p><img src="/images/2013-06-25/beewatcher_lg.gif" title="The Bee Watcher" alt="Alt text" /></p>

<p><em>picture from <a href="http://www.drseussart.com/details/illustration/beewatcher.html" title="The Bee Watcher">The Bee Watcher - The Art of Dr. Seuss</a></em></p>

<p>我很喜欢这个故事，不是因为绕口令一样的角色名字，而是让我发现了身边藏着的Bee Watcher。我们制定了一个Process，期望它能极大地改善我们的研发状况，可是发现不尽如人意，原因可能是Process执行得不到位，于是，我们制定了更多的Process来确保我们的Process能更好地得到执行。这难道不是一个Bee Watcher。你发现了吗？请将更多的Bee Watcher以Comments形式告诉我吧，对我而言，这一定会是一个不错的收获。:\</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/05/30/exception-has-been-normal/">Exception Has Been Normal</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-05-30T18:31:00+08:00" pubdate data-updated="true">May 30<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>My friend Simon talked with me, he would like to buy some instant coffee or ice cream in supermarket, but he found that, all of them including one ingredient is non-dairy creamer(植脂末). This ingredient is used to make the drink more smooth, it&#8217;s a replacement of milk, but it&#8217;s bad for human health. Any way, it&#8217;s better than melamine(三聚氰胺). Nowadays, you are hard to find instant coffee without non-dairy in China.</p>

<p>Another story what I heard there is a government department named as &#8220;temporary emergency processing center for cover of sewer well&#8221; (窨井盖临时应急处理中心) is hiring a fixed officer. And as government perspective view, this department will be always existed even the name including &#8220;temporary&#8221;, the reason is they have to alwyas handle the &#8220;temporary&#8221; &amp; &#8220;emergency&#8221; issue. But as I know, the cover of sewer well shall be managed by municipal administration.</p>

<p>The third story is restrict the car to solve the traffic jam, i.e. if the last digit of your car license plate number is 1 or 9, your car will be ban on road on Monday, 2 or 8 will be ban on road on Tuesday, and so on&#8230;. This is a temporary solution for traffic jam issue, but currently, it&#8217;s becoming a final solution, it&#8217;s normal for administration department.</p>

<p>So we can understand from those stories, once problem happen, there will be temporary solution coming, in programming area, we called &#8220;workaround&#8221;, and there is no further analysis, and temporary solution will act as final solution, workaround will act as solution. Once there is another problem happen, there will be another temporary solution coming, or another &#8220;workaround&#8221; be used. A workaround helps to solve another workaround, and another workaround is used to solve another another workaround problem&#8230;.</p>

<p>But why? I often ask this question to myself and my colleague. It might be caused by lazy, yes, that&#8217;s one reason. But another problem in government administration area, the temporary solution can solve some problems of employment, and there will be more position for officer ask, even it&#8217;s not needed. In software programming area as well, more workaround, more maintenance is needed, and more engineers are needed. But all of us forget one thing is find out the root cause, and fix it.</p>

<p>If exception has been normal, around of you use workaround solve another problem of workaround, it means the situation around of you has been worse, you need to consider quit only if you can solve it. :\</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/04/27/take-care-of-your-integer-variable/">Take Care of Your Integer Variables</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-27T13:19:00+08:00" pubdate data-updated="true">Apr 27<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>We produce telecom equipment, the equipments will be deployed as infrastructure of telecommunication, internet etc., so it required product high stability, high security. We would not like to see there will be a 911 phone call cannot be reachable since our software bug, or financial exchange be stuck since networking problem which is caused by our software bug.</p>

<p>I recall that one day, Erno Jeges (who is secure coding expert) told us: you have to care your code as care your baby, otherwise you don&#8217;t know what your baby will be. So that, we have to deal software security carefully: buffer overflow, print formatting, and integer overflow etc. I&#8217;m not expert in this area, but I notice that at least we have to take care of our integer variable first since C/C++ languages handle integers in a very dangerous manner since there are:</p>

<ul>
<li>No overflow exception</li>
<li>No run-time detection if a negative integer is converted to an unsigned value</li>
<li>No checks whether a larger integer value is put into a shorter variable</li>
</ul>


<p>That&#8217;s why in our source code hides one integer number multiply by one integer number, and leads software fiery crash. Of cause, sometimes, we can rely on static analysis tool such as Klocwork, cppcheck, but not all of problems can be filtered by tool, human shall participate in the process of software creation. As these reason, programmer who is programming in C/C++ language shall be carefully deal with the calculation or convention of integer variable, and it shall be basic knowledge of C/C++ programmer. That&#8217;s why I act Longevity Monk who from <a href="http://en.wikipedia.org/wiki/A_Chinese_Odyssey" title="A Chinese Odyssey in Wikipedia">A Chinese Odyssey</a> here.</p>

<p><img src="/images/2013-04-27/tangseng.jpeg" title="Longevity Monk" alt="Alt text" /></p>

<p>It&#8217;s time to start the puzzle game, please spot out the bomb which is hiden inside the code, let&#8217;s look at this code snippet:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="kt">int</span> <span class="nf">copy</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">src</span><span class="p">,</span> <span class="kt">int</span> <span class="n">len</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="kt">char</span> <span class="n">dest</span><span class="p">[</span><span class="mi">50</span><span class="p">];</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">len</span> <span class="o">&gt;</span> <span class="mi">50</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="n">memcpy</span><span class="p">(</span><span class="n">dest</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">len</span><span class="p">);</span>
</span><span class='line'>  <span class="c1">//TODO: use dest here</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Could you please tell me is there any problem if you stop here and do not plan to go through this post? Of cause, there is a big problem once assign a negative value to parameter <code>len</code>, for example, we assign the <code>len</code> is <code>-1</code>, the program can be executed in <code>memcpy(dest, src, len)</code>, and <code>-1</code> will be casted to unsigned value <code>0xffffffff</code>, and lead the program Segmentation fault, this problem is called <strong>Signedness bug</strong>.</p>

<p>Okay, let&#8217;s see another code snippet here:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="kt">int</span> <span class="nf">append</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">str1</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">str2</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">len1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">len2</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="kt">char</span> <span class="n">dest_buf</span><span class="p">[</span><span class="mi">64</span><span class="p">];</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">((</span><span class="n">len1</span> <span class="o">+</span> <span class="n">len2</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">64</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="n">memcpy</span><span class="p">(</span><span class="n">dest_buf</span><span class="p">,</span> <span class="n">str1</span><span class="p">,</span> <span class="n">len1</span><span class="p">);</span>
</span><span class='line'>    <span class="n">memcpy</span><span class="p">(</span><span class="n">dest_buf</span> <span class="o">+</span> <span class="n">len1</span><span class="p">,</span> <span class="n">str2</span><span class="p">,</span> <span class="n">len2</span><span class="p">);</span>
</span><span class='line'>    <span class="c1">//TODO: dest_buf usage can be added here</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>How about this one, is there any problem? In case of <code>len1</code> is huge number, and <code>len1+len2</code> can be overflow to a small number. For example, <code>len1 = 4294967198</code>, and <code>len2 = 100</code>, and then <code>len1 + len2 = 4294967298 (0x100000002)</code>. We call this problem is <strong>Arithmetical overflow</strong>.</p>

<p>one more, this will be easily to spot with previous experience:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="cp">#include &lt;stdio.h&gt;</span>
</span><span class='line'><span class="cp">#include &lt;string.h&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="kt">int</span> <span class="nf">copy</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">src</span><span class="p">,</span> <span class="kt">int</span> <span class="n">len</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">s</span><span class="p">;</span>
</span><span class='line'>    <span class="kt">char</span> <span class="n">buf</span><span class="p">[</span><span class="mi">80</span><span class="p">];</span>
</span><span class='line'>    <span class="n">s</span> <span class="o">=</span> <span class="n">len</span><span class="p">;</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">s</span> <span class="o">&gt;=</span> <span class="mi">80</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;string is too long!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</span><span class='line'>        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="n">memcpy</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">len</span><span class="p">);</span>
</span><span class='line'>    <span class="n">buf</span><span class="p">[</span><span class="n">len</span><span class="p">]</span> <span class="o">=</span> <span class="sc">&#39;\0&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>If the <code>len</code> is <code>65535</code>, the <code>s</code> will be <code>0</code>, and lead segmentation fault during <code>memcpy</code>, we call it <strong>Widthness integer overflow</strong>. So here we would like to highlight the ranges of integer, we believe professional programmer can deal it well.</p>

<p><img src="/images/2013-04-27/integer-ranges.png" title="integer ranges
" alt="Alt text" /></p>

<p>And now it&#8217;s time to review you owned source code, is there any same problem? Have you group the integer calculation invoking in some centralized place rather than spread everywhere of your program? Have you clearly understand using variable is 2bytes, 4bytes or 8bytes? signed or unsigned?</p>

<p>Be careful! :\</p>

<p><em>(Knowledge I learned from <a href="http://www.amazon.com/Computer-Systems-A-Programmers-Perspective/dp/013034074X" title="Amazon link">Computer Systems: A programmer&#8217;s perspective</a>, and emphasize the mindset in secure coding course, if you forget the knowledge, hope this post can remind you pick your book up.)</em></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/04/18/why-i-translate-codermetrics/">我为什么翻译《程序员度量》—— 不以团队建设为目的的度量都是耍流氓</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-18T10:51:00+08:00" pubdate data-updated="true">Apr 18<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>IT界大多数管理者都是从一线研发走过来的，我也如此，虽然，我现在又在尝试成为一名合格的程序员。</p>

<p>很久以来的概念是，程序员的工作很难进行量化，你很难说写这一段代码真正需要花多少的时间，他坐在那里发愣，你很难说他是真的在发愣，还是在思考程序的逻辑实现，他的显示器屏幕在滚动，你很难发觉是他编写好的程序输出，还是他刚执行了几个<code>less</code>命令，或者执行了几个命令行批处理，打印出来应付你觉察的眼睛，他的键盘快速在响，你很难认为他不是在聊QQ或是在发微博&#8230;.以致于有段时间，办公室里流传着程序员需要读一读《演员的自我修养》这样的笑话，程序员工作的量化，取决于他的演技水平。</p>

<p>又记得当年做team leader时，部门里实行TPE(Team Performance Evaluation)政策，定好诸多KPI，如完成的story points，支持其他团队次数，bug数量，bug修改时间，是否正确填写各种报表等等，每个迭代周期结束后，由分管的各种manager或owner打分，加权计算，最后得出一张团队绩效排名表，前三名给予奖励，而排在后面的总是工作在愧疚与难堪当中，不幸的是，我们组总是在这样的难堪中。我不敢妄加评论其好坏，只是在我们团队决心参与这场得分游戏后，我们连续获得了靠前的排名，但团队能力水平并没有因此而得到真正的提高，反而我有一种参与了这种斤斤计较的得分游戏的愧疚。</p>

<p>后来成为研发经理，对程序员度量这种事情更加萦绕在脑中，我一直很纠结于TPE给我带来的种种疑惑，曾带着问题请教过各路“大师“，也曾在社区活动中将这个话题提交到open space中与同行探讨，但结果总是不尽如人意，不是强调从人性的角度，提倡self management，就是从管理学的角度给我制定更多的KPI。</p>

<p>带着疑问和不解，经朋友介绍，看到了<a href="http://www.amazon.com/Codermetrics-Analytics-Improving-Software-Teams/dp/1449305156" title=" &quot;Codermetrics"><em>Codermetrics: Analytics for Improving Software Teams</em></a>，我不能说这是一副包治百病的灵丹妙药，但是，多少帮助我澄清了心头的一些疑惑。看过《点球成金》(<a href="http://www.imdb.com/title/tt1210166/?ref_=fn_al_tt_1" title="moneyball">moneyball</a>)这部电影的朋友可能会记得，当运动家队的总经理Bill因为资金的问题而陷入困境时，真正帮助他走出困境，走向巅峰的，不是哪个大牌球员，而是一个小小的数据分析员。他们认为一个出色的球队在哪些位置需要什么样的球员，定好球队的profile，然后从二线球员中，完全可以找出满足这个条件的球员，充实团队的profile，再根据数据做出相应调整，从而使球队获得了巨大成功。</p>

<p><a href="http://book.douban.com/subject/21365482/" title=" &quot;程序员度量">《程序员度量:改善软件团队的分析学》</a>
这本书无异于是软件开发行业中的《点球成金》，作者认为，软件开发同样如此，我们的目标是打造成功的团队，而不是blame某一个程序员的绩效表现。确定好这样的目标之后，围绕团队和组织的目标，我们知道成功的团队模型应该是怎么样的，这可以从已知成功的团队中抽象出来，由此选择需要的程序员个体进入这样的团队，适当做出调整，打造成功的团队。作者同样在书中，对团队成功从不同的维度进行度量，以确定度量指标。</p>

<p>而之于团队和程序员的度量，应该从多个维度进行，从产品类型的不同，从角色的要求不同等等，单一的数据可能毫无意义，但数据的组合可能会帮助我们发现隐藏在数据背后的洞察力。跟踪一段时间的响应度量，可以帮助我们对现实的工作做出调整，不断完善，做到可持续性。</p>

<p><img src="/images/2013-04-18-why-i-translate-codermetrics/codermetrics-cn.jpg" title="codermetrics Chinese version coverpage" alt="Alt text" /></p>

<p>主要内容包括：</p>

<ul>
<li>学习如何通过程序员度量改变长期以来的假设，并且改善团队动态。</li>
<li>获得将程序员度量集成到现有流程的建议。</li>
<li>提出正确的问题来确定软件开发管理者需要收集的数据类型。</li>
<li>使用度量来测量一段之间之后的程序员个体的技能和团队效率。</li>
<li>确定每个程序员对团队所作的贡献。</li>
<li>分析对所开发的软件及其特性的响应，并且验证是否正朝着团队和组织目标而努力。</li>
<li>建设更好的团队，通过使用程序员度量来进行人员调整和补充。</li>
</ul>


<p>此外，作者还是一个棒球迷，用各种与球类运动类比的手法，比较形象地把一些晦涩难懂的概念表达出来，从这一点看，还是比较吸引人的，起码不会读起来太枯燥。</p>

<p>作为一支球队，我们需要知道这些角色的组成应该达到一个什么样的水平，那么同样如此，软件开发团队也需要这样的角色来组成团队的profile。</p>

<p>作者将软件开发团队中的角色与球队当中的角色对应起来：</p>

<ul>
<li>激励者，那些可真正激励团队，有助于凝聚团队的人，是团队的助推剂。</li>
<li>得分手，那些面对棘手难题，攻关能够迎上的人，攻克开发过程中的难题，在产品的实现中有较多产出的人。</li>
<li>防守专家，那些可以有助于保护团队免受外界干扰的人，如测试人员等，因为他们减少了团队bug的输出，从这个意义上来讲也是一个很好的防守。</li>
<li>全能队员，那些什么都可以做的蓝领们，哪里需要哪里搬，多能就是他们最擅长的事，不管是让他去做代码的编写，特性的测试，还是技术支持，他们都能做，我是团队一块砖，哪里需要哪里搬。</li>
</ul>


<p>那么，我们需要如何定义度量指标呢，作者同样从体育运动中将一些概念延伸出来，对技能的度量有：得分，多能，火力，助攻，进攻影响力，救援，抢断，活动范围，防守影响力，失误，错误等。这样，我们可以很容易的定义出，什么样的程序员，他在这些度量指标上的分数如何？能够通过数据确定其后面的洞察力才是最牛B的事。</p>

<p>而对团队产品的度量，作者引用了响应度量：胜场，胜场速度，胜率，推动力，输场，输场速度，罚球，罚球胜场比，增益，增速，加速度，胜场排名，能力排名等。而不同类型的产品，其分数的分布也是不同的。</p>

<p>而最后定义的价值度量，是一种量化个体技能如何在团队中产生价值的指标：影响力，效率，领先份额，胜场份额，输场份额，团队合作，守场，爆发力，战斗力等，而团队在不同的成长阶段，其值的分布也是有区别的。真正的度量，应该是以团队建设为目标，好的度量会告诉我们团队目前在哪？团队的方向在哪？团队现在要解决什么问题？度量不是评级。度量的使用是一个不断试错的过程，建立良好的数据收集方式，选择性的挑选度量指标，评估结果并调整，建立可供讨论的平台是我们接下来可以做的事。</p>

<p>基于以上表述，个人觉得国内会有很多人与我有相同的问题需要解决，说不定这本书还能起到一些帮助。在朋友的鼓励下，应承下本书的翻译工作，但发现翻译工作真的是体力活，一是要求把原书的原意翻译给大家，二又得保证适合中文阅读习惯，工作量非常大，对于完全没有书本翻译经验的我来说，这是一个无法完成的任务，能找到最佳拍档真的很不容易，多谢有几位好朋友的加入，本书才得以完成出版，在这里要对他们三呼万岁，谢主隆恩。后来，圈子里的朋友告诉我，做外语书翻译是最吃力不讨好的事，翻得差了，被人骂，翻得好，读者会说是原作者写得好。现在想想，中文译本的书是否好读，不仅仅取决于原作者的水平，翻译者的贡献可谓功不可没。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/04/12/programming-game-of-life-under-no-if-dot-else-dot-etc-condition-restriction/">Coderetreat: Programming Game of Life Under &#8216;No Conditional Expression&#8217; Restriction</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-12T23:51:00+08:00" pubdate data-updated="true">Apr 12<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>If you search this topic with &#8220;coderetreat&#8221;, &#8220;no if&#8221; or &#8220;no conditional expression&#8221; keywords, and if you are in coderetreat event right now, I suggest you close this topic, and after you finish the session, than open it again, and compare with your implementation, or comments your better implementation here.</p>

<p>I have facilitated several coderetreat events, not master it, but experienced. When in the session with rule <strong><em>No conditional expression allowed</em></strong>, most of people will blame me why we have such restriction, or tell me WTF it&#8217;s impossiable if we programming in C language. Minutes later, someone would ask me, shall we use &#8220;while loop&#8221; or &#8220;for loop&#8221;instead of &#8220;if&#8221;, but I always say no. And later, someone told me that programming in OO polymorphism can be done, but how in C?</p>

<p>So how, is there any trick, I can only say don&#8217;t know, but here I can give a sample of how to resolve the major logic of <a href="http://en.wikipedia.org/wiki/Conway%27s_Game_of_Life" title="Game of Life">&#8220;Conway&#8217;s Game of Life&#8221;</a>, rules of the game is:</p>

<blockquote><ol>
<li>Any live cell with fewer than two live neighbours dies, as if caused by under-population.</li>
<li>Any live cell with two or three live neighbours lives on to the next generation.</li>
<li>Any live cell with more than three live neighbours dies, as if by overcrowding.</li>
<li>Any dead cell with exactly three live neighbours becomes a live cell, as if by reproduction.</li>
</ol>
</blockquote>

<p> So we can understand the next generation state will be based on two factors: current generation state (live or dead) and live neighours amount. We can define a two-dimensional array like below diagram illustrates:</p>

<p> <img src="/images/2013-04-12/rule_map.png" title="Rule Map" alt="Alt text" /></p>

<p>The first row means current generation state is dead (0), for corresponding live neighbours amount, the next generation state of this cell shall be what (The value of array defined); similar, the second row means current generation state is live (1), for correspding live neighbours amount, the next generation state is defined as the value of array. The formula is: <em><strong>rule_map[current state][live neighbours amount - 1] = next generation state</strong></em>, for example, if current cell&#8217;s state is dead, and it has 3 live neighbours, the result will be rule_map[0][3-1] = 1. The pseudocode shall be like this:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'> <span class="cm">/*0 means dead, 1 means live*/</span>
</span><span class='line'> <span class="kt">int</span> <span class="n">rule_map</span><span class="p">[][]</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'>     <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
</span><span class='line'>     <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
</span><span class='line'> <span class="p">};</span>
</span><span class='line'>
</span><span class='line'> <span class="kt">int</span> <span class="nf">next_state</span><span class="p">(</span><span class="kt">int</span> <span class="n">cur_state</span><span class="p">,</span> <span class="kt">int</span> <span class="n">neighbours</span><span class="p">)</span>
</span><span class='line'> <span class="p">{</span>
</span><span class='line'>     <span class="k">return</span> <span class="n">rule_map</span><span class="p">[</span><span class="n">cur_state</span><span class="p">][</span><span class="n">neighbours</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span><span class='line'> <span class="p">}</span>
</span><span class='line'>
</span></code></pre></td></tr></table></div></figure>


<p>So how to calculate the live neighbours amount of specific cell? Please you make a post for it. I&#8217;m not going to clarify everything here, or you can comment below. Have fun. :\</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/03/23/team-gethering-game/">Team Gathering Game</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-03-23T00:00:00+08:00" pubdate data-updated="true">Mar 23<span>rd</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>There is a team gathering game what I learned from Shanghai Scrum Gathering in 2011, there was one facilitator from Taiwan shared to us, and I always play it with my trainee and team members.</p>

<h2>The rule of the game:</h2>

<ul>
<li>All members stand as matrix (row*coloumn), the lines like we did physical exercise in childhood, you can stretch your arm, but cannot touch another person who closes to you.</li>
<li>Facilitator asks all member close eyes, and from now on to the end, every attendee shall keep their eyes closed.</li>
<li>Facilitator asks every select a number in their heart, everyone keep one number, do not tell the number to any one now. (for example, if there are 100 attendees, facilitator can ask attendee select one number between 1 and 100).</li>
<li>Facilitator give an instruction: &#8220;please turn around, and stretch your hand, try to touch another person who closed to you&#8221;</li>
<li>Attendee share the number to another, and hand in hand, try to group more people, but shall be keep the number in order</li>
<li>Once all attendee are in an ordered group or time out, facilitator asks attendee open their eyes.</li>
</ul>


<h2>What we learn from this game:</h2>

<ul>
<li>There must be someone will stand out from chaos, and give some instruction to others</li>
<li>If there is no hand hold with you, you will be feel unsafe</li>
<li>The one tell you the order is clockwise or anticlockwise, but the final order is follow the basic small group, the team culture can be bred.</li>
<li>Every one has same goal</li>
<li>Small team will follow bigger team</li>
<li>Give team a clearly goal and rules, team can be self-organized</li>
</ul>


<p>Definitely, this game is funny, if you like this, you can copy this way, and play it with your members.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/01/28/structure-assignment-and-its-pitfall-in-C-language/">Structure Assignment and Its Pitfall in C Language</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-28T21:47:00+08:00" pubdate data-updated="true">Jan 28<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Problem</h2>

<p>There is a structure type defined as below:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="k">typedef</span> <span class="k">struct</span> <span class="n">__map_t</span> <span class="p">{</span>
</span><span class='line'>    <span class="kt">int</span> <span class="n">code</span><span class="p">;</span>
</span><span class='line'>    <span class="kt">char</span> <span class="n">name</span><span class="p">[</span><span class="n">NAME_SIZE</span><span class="p">];</span>
</span><span class='line'>    <span class="kt">char</span> <span class="o">*</span><span class="n">alias</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span><span class="n">map_t</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>If we want to assign <code>map_t</code> type variable <code>struct2</code> to <code>sturct1</code>, we usually have below 3 ways:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="cm">/* Way #1: assign the members one by one */</span>
</span><span class='line'><span class="n">struct1</span><span class="p">.</span><span class="n">code</span> <span class="o">=</span> <span class="n">struct2</span><span class="p">.</span><span class="n">code</span><span class="p">;</span>
</span><span class='line'><span class="n">strncpy</span><span class="p">(</span><span class="n">struct1</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">struct2</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">NAME_SIZE</span><span class="p">);</span>
</span><span class='line'><span class="n">struct1</span><span class="p">.</span><span class="n">alias</span> <span class="o">=</span> <span class="n">struct2</span><span class="p">.</span><span class="n">alias</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/* Way #2: memcpy the whole memory content of struct2 to struct1 */</span>
</span><span class='line'><span class="n">memcpy</span><span class="p">(</span><span class="o">&amp;</span><span class="n">struct1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">struct2</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">struct1</span><span class="p">));</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/* Way #3: straight assignment with &#39;=&#39; */</span>
</span><span class='line'><span class="n">struct1</span> <span class="o">=</span> <span class="n">struct2</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Consider above ways, most of programmer won&#8217;t use way #1, since it&#8217;s so stupid ways compare to other twos, only if we are defining an structure assignment function. So, <strong><em>what&#8217;s the difference between way #2 and way #3? And what&#8217;s the pitfall of the structure assignment once there is array or pointer member existed?</em></strong> Coming sections maybe helpful for your understanding.</p>

<h2>The difference between <strong><em>&#8217;=&#8217; straight assignment</em></strong> and <strong><em>memcpy</em></strong></h2>

<p>The <code>struct1=struct2;</code> notation is not only <strong>more concise</strong>, but also <strong>shorter</strong> and <strong>leaves more optimization opportunities to the compiler</strong>. The semantic meaning of = is an assignment, while <code>memcpy</code> just copies memory. That&#8217;s a huge <strong>difference in readability</strong> as well, although <code>memcpy</code> does the same in this case.</p>

<p>Copying by straight assignment is probably best, since it&#8217;s shorter, easier to read, and has a higher level of abstraction. Instead of saying (to the human reader of the code) &#8220;copy these bits from here to there&#8221;, and requiring the reader to think about the size argument to the copy, you&#8217;re just doing a straight assignment (&#8220;copy this value from here to here&#8221;). There can be no hesitation about whether or not the size is correct.</p>

<p>Consider that, above source code also has pitfall about the pointer alias, it will lead dangling pointer problem (<em>It will be introduced below section</em>). If we use straight structure assignment &#8216;=&#8217; in C++, we <strong>can consider to overload the <code>operator=</code> function</strong>, that can dissolve the problem, and the structure assignment usage does not need to do any changes, but structure memcpy does not have such opportunity.</p>

<h2>The pitfall of structure assignment:</h2>

<p>Beware though, that copying structs that contain pointers to heap-allocated memory can be a bit dangerous, since by doing so you&#8217;re aliasing the pointer, and typically making it ambiguous who owns the pointer after the copying operation.</p>

<p>If the structures are of compatible types, yes, you can, with something like:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="n">memcpy</span> <span class="p">(</span><span class="n">dest_struct</span><span class="p">,</span> <span class="n">source_struct</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">dest_struct</span><span class="p">));</span>
</span></code></pre></td></tr></table></div></figure>


<p>}
The only thing you need to be aware of is that this is a shallow copy. In other words, if you have a <code>char *</code> pointing to a specific string, both structures will point to the same string.</p>

<p>And changing the contents of one of those string fields (the data that the <code>char <em></code> points to, not the <code>char </em></code> itself) will change the other as well. For these situations a &#8220;deep copy&#8221; is really the only choice, and that needs to go in a function. If you want a easy copy without having to manually do each field but with the added bonus of non-shallow string copies, use strdup:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="n">memcpy</span> <span class="p">(</span><span class="n">dest_struct</span><span class="p">,</span> <span class="n">source_struct</span><span class="p">,</span> <span class="k">sizeof</span> <span class="p">(</span><span class="n">dest_struct</span><span class="p">));</span>
</span><span class='line'><span class="n">dest_struct</span><span class="o">-&gt;</span><span class="n">strptr</span> <span class="o">=</span> <span class="n">strdup</span><span class="p">(</span><span class="n">source_struct</span><span class="o">-&gt;</span><span class="n">strptr</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>This will copy the entire contents of the structure, then deep-copy the string, effectively giving a separate string to each structure. And, if your C implementation doesn&#8217;t have a strdup (it&#8217;s not part of the ISO standard), you have to allocate new memory for <code>dest_struct</code> pointer member, and copy the data to memory address.</p>

<h3>Example of trap:</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="cp">#include &lt;stdio.h&gt;</span>
</span><span class='line'><span class="cp">#include &lt;stdlib.h&gt;</span>
</span><span class='line'><span class="cp">#include &lt;string.h&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#define NAME_SIZE   16</span>
</span><span class='line'><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_map_t</span> <span class="p">{</span>
</span><span class='line'>    <span class="kt">int</span> <span class="n">code</span><span class="p">;</span>
</span><span class='line'>    <span class="kt">char</span> <span class="n">name</span><span class="p">[</span><span class="n">NAME_SIZE</span><span class="p">];</span>
</span><span class='line'>    <span class="kt">char</span> <span class="o">*</span><span class="n">alias</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span> <span class="n">map_t</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">map_t</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="cm">/* initialize the a&#39;s members value */</span>
</span><span class='line'>    <span class="n">a</span><span class="p">.</span><span class="n">code</span> <span class="o">=</span> <span class="mi">1024</span><span class="p">;</span>
</span><span class='line'>    <span class="n">snprintf</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">NAME_SIZE</span><span class="p">,</span> <span class="s">&quot;Controller SW3&quot;</span><span class="p">);</span>
</span><span class='line'>    <span class="kt">char</span> <span class="o">*</span><span class="n">alias</span> <span class="o">=</span> <span class="s">&quot;RNC&amp;IPA&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="n">a</span><span class="p">.</span><span class="n">alias</span> <span class="o">=</span> <span class="n">alias</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="cm">/* assign the value via memcpy */</span>
</span><span class='line'>    <span class="n">memcpy</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">b</span><span class="p">));</span>
</span><span class='line'>
</span><span class='line'>    <span class="cm">/* assign the value via &#39;=&#39; */</span>
</span><span class='line'>    <span class="n">c</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
</span><span class='line'>    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Below diagram illustrates above source memory layout, if there is a pointer field member, either the straight assignment or <code>memcpy</code>, that will be alias of pointer to point same address. For example, <code>b.alias</code> and <code>c.alias</code> both points to address of <code>a.alias</code>. Once one of them free the pointed address, it will cause another pointer as dangling pointer. <strong>It&#8217;s dangerous!!</strong></p>

<p><img src="/images/2013-01-28-structure-assignment-and-its-pitfall-in-C-language/structure_assignment.1-1.png" title="Illustrates above source code memory layout." alt="Alt text" /></p>

<h2>Conclusion</h2>

<ul>
<li>Recommend use straight assignment &#8216;=&#8217; instead of memcpy.</li>
<li>If structure has pointer or array member, please consider the pointer alias problem, it will lead dangling pointer once incorrect use. Better way is implement structure assignment function in C, and overload the operator= function in C++.</li>
</ul>


<h2>Reference:</h2>

<ul>
<li><a href="http://stackoverflow.com/questions/5383318/struct-assignment-or-memcpy" title="struct assignment">stackoverflow.com: structure assignment or memcpy</a></li>
<li><a href="http://stackoverflow.com/questions/2302351/assign-one-struct-to-another-in-c" title="assign one struct to another">stackoverflow.com: assign one struct to another in C</a></li>
<li><a href="http://bytes.com/topic/c/answers/215832-structures-assignment" title="structures assignment">bytes.com: structures assignment</a></li>
<li><a href="http://en.wikipedia.org/wiki/Struct_%28C_programming_language%29" title="struct in C programming language">wikipedia: struct in C programming language</a></li>
</ul>

</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/08/30/why-we-need-visual-task-board/">Why we need visual task board</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/26/how-programmer-surf-internet/">程序员上网扫盲</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/08/codermetrics-in-scrumgathering/">Speaking Codermetrics in ScrumGathering Shanghai 2013</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/25/bee-watcher/">Bee Watcher</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/30/exception-has-been-normal/">Exception has been normal</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/27/take-care-of-your-integer-variable/">Take care of your integer variables</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/18/why-i-translate-codermetrics/">我为什么翻译《程序员度量》—— 不以团队建设为目的的度量都是耍流氓</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/12/programming-game-of-life-under-no-if-dot-else-dot-etc-condition-restriction/">Coderetreat: programming game of life under &#8216;no conditional expression&#8217; restriction</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/03/23/team-gethering-game/">Team Gathering Game</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/01/28/structure-assignment-and-its-pitfall-in-C-language/">structure assignment and its pitfall in C language</a>
      </li>
    
  </ul>
</section>





<section>
  <h1>Latest Tweets</h1>
  <p><a class="twitter-timeline" href="https://twitter.com/zhangliaoyuan" data-widget-id="360654469018554368">Tweets by @zhangliaoyuan</a></p>
  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</section>


  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Eric Zhang -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'actionary';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
